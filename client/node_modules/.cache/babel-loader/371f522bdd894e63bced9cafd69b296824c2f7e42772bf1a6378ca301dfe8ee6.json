{"ast":null,"code":"var _jsxFileName = \"D:\\\\AlphaWizz\\\\sports-ecommerce\\\\client\\\\src\\\\components\\\\products\\\\ProductCard.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartPlusIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: \"h-5 w-5 mr-2\",\n  viewBox: \"0 0 20 20\",\n  fill: \"currentColor\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\",\n    clipRule: \"evenodd\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 5\n}, this);\n_c = CartPlusIcon;\nconst ProductCard = ({\n  product\n}) => {\n  var _product$variants;\n  // --- FIX & IMPROVEMENT ---\n  // 1. Check the product's type to determine its behavior.\n  const isVariantProduct = product.productType === 'variant';\n\n  // 2. Determine the correct price to display based on the product type.\n  let displayPrice = 0;\n  if (isVariantProduct && ((_product$variants = product.variants) === null || _product$variants === void 0 ? void 0 : _product$variants.length) > 0) {\n    // For variant products, show the price of the first variant.\n    displayPrice = product.variants[0].price;\n  } else if (!isVariantProduct) {\n    // For simple products, show the product's own top-level price.\n    displayPrice = product.price;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden group flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/product/${product._id}`,\n      className: \"block overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.imageUrl,\n        alt: product.name,\n        className: \"w-full h-56 object-cover group-hover:scale-105 transition-transform duration-300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 flex flex-col flex-grow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-800 truncate mb-1\",\n        title: product.name,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/product/${product._id}`,\n          className: \"hover:text-indigo-600\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500 mb-4 flex-grow\",\n        children: [product.description.substring(0, 70), product.description.length > 70 && '...']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mt-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: [isVariantProduct ? 'From ' : '', \"\\u20B9\", displayPrice.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), isVariantProduct ? /*#__PURE__*/_jsxDEV(Link, {\n          to: `/product/${product._id}`,\n          className: \"flex items-center justify-center px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(CartPlusIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), \"Select Options\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          // onClick={() => addToCart(product)} // This is where you would add cart logic for simple products\n          className: \"flex items-center justify-center px-1 py-2 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(CartPlusIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), \"Add to Cart\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n_c2 = ProductCard;\nexport default ProductCard;\nvar _c, _c2;\n$RefreshReg$(_c, \"CartPlusIcon\");\n$RefreshReg$(_c2, \"ProductCard\");","map":{"version":3,"names":["React","Link","jsxDEV","_jsxDEV","CartPlusIcon","xmlns","className","viewBox","fill","children","d","fileName","_jsxFileName","lineNumber","columnNumber","fillRule","clipRule","_c","ProductCard","product","_product$variants","isVariantProduct","productType","displayPrice","variants","length","price","to","_id","src","imageUrl","alt","name","title","description","substring","toFixed","_c2","$RefreshReg$"],"sources":["D:/AlphaWizz/sports-ecommerce/client/src/components/products/ProductCard.js"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CartPlusIcon = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n        <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n        <path fillRule=\"evenodd\" d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\" clipRule=\"evenodd\" />\r\n    </svg>\r\n);\r\n\r\nconst ProductCard = ({ product }) => {\r\n    // --- FIX & IMPROVEMENT ---\r\n    // 1. Check the product's type to determine its behavior.\r\n    const isVariantProduct = product.productType === 'variant';\r\n\r\n    // 2. Determine the correct price to display based on the product type.\r\n    let displayPrice = 0;\r\n    if (isVariantProduct && product.variants?.length > 0) {\r\n        // For variant products, show the price of the first variant.\r\n        displayPrice = product.variants[0].price;\r\n    } else if (!isVariantProduct) {\r\n        // For simple products, show the product's own top-level price.\r\n        displayPrice = product.price;\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden group flex flex-col\">\r\n            <Link to={`/product/${product._id}`} className=\"block overflow-hidden\">\r\n                <img\r\n                    src={product.imageUrl}\r\n                    alt={product.name}\r\n                    className=\"w-full h-56 object-cover group-hover:scale-105 transition-transform duration-300\"\r\n                />\r\n            </Link>\r\n\r\n            <div className=\"p-4 flex flex-col flex-grow\">\r\n                <h2 className=\"text-lg font-semibold text-gray-800 truncate mb-1\" title={product.name}>\r\n                    <Link to={`/product/${product._id}`} className=\"hover:text-indigo-600\">{product.name}</Link>\r\n                </h2>\r\n\r\n                <p className=\"text-sm text-gray-500 mb-4 flex-grow\">\r\n                    {product.description.substring(0, 70)}{product.description.length > 70 && '...'}\r\n                </p>\r\n\r\n                <div className=\"flex items-center justify-between mt-auto\">\r\n                    {/* 3. Display the price correctly for both types */}\r\n                    <span className=\"text-2xl font-bold text-gray-900\">\r\n                        {isVariantProduct ? 'From ' : ''}â‚¹{displayPrice.toFixed(2)}\r\n                    </span>\r\n\r\n                    {/* 4. Show a different button based on the product type */}\r\n                    {isVariantProduct ? (\r\n                        <Link\r\n                            to={`/product/${product._id}`}\r\n                            className=\"flex items-center justify-center px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\"\r\n                        >\r\n                            <CartPlusIcon />\r\n                            Select Options\r\n                        </Link>\r\n                    ) : (\r\n                        <button\r\n                            // onClick={() => addToCart(product)} // This is where you would add cart logic for simple products\r\n                            className=\"flex items-center justify-center px-1 py-2 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\"\r\n                        >\r\n                            <CartPlusIcon />\r\n                            Add to Cart\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}