{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:5000/api/products/';\nconst categoryRoutes = require('./routes/categoryRoutes');\n\n// ... other routes\napp.use('/api/categories', categoryRoutes);\n\n// Helper function to get the auth token, remains the same.\nconst getAuthHeaders = () => {\n  const token = JSON.parse(localStorage.getItem('userToken'));\n  if (token) {\n    return {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n  }\n  return {};\n};\n\n// --- CORRECTED FUNCTIONS ---\n// Each function now processes the response and returns response.data\n\nconst getProducts = async () => {\n  const response = await axios.get(API_URL);\n  return response.data; // Return the { success, data } object\n};\nconst getProductById = async id => {\n  const response = await axios.get(API_URL + id);\n  return response.data; // Return { success, data }\n};\nconst createProduct = async productData => {\n  const response = await axios.post(API_URL, productData, getAuthHeaders());\n  return response.data;\n};\nconst updateProduct = async (id, productData) => {\n  const response = await axios.put(API_URL + id, productData, getAuthHeaders());\n  return response.data;\n};\nconst deleteProduct = async id => {\n  const response = await axios.delete(API_URL + id, getAuthHeaders());\n  return response.data;\n};\nconst productService = {\n  getProducts,\n  getProductById,\n  createProduct,\n  updateProduct,\n  deleteProduct\n};\nexport default productService;","map":{"version":3,"names":["axios","API_URL","categoryRoutes","require","app","use","getAuthHeaders","token","JSON","parse","localStorage","getItem","headers","Authorization","getProducts","response","get","data","getProductById","id","createProduct","productData","post","updateProduct","put","deleteProduct","delete","productService"],"sources":["D:/AlphaWizz/sports-ecommerce/client/src/services/productService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api/products/';\r\nconst categoryRoutes = require('./routes/categoryRoutes');\r\n\r\n// ... other routes\r\napp.use('/api/categories', categoryRoutes);\r\n\r\n\r\n// Helper function to get the auth token, remains the same.\r\nconst getAuthHeaders = () => {\r\n    const token = JSON.parse(localStorage.getItem('userToken'));\r\n    if (token) {\r\n        return { headers: { Authorization: `Bearer ${token}` } };\r\n    }\r\n    return {};\r\n};\r\n\r\n// --- CORRECTED FUNCTIONS ---\r\n// Each function now processes the response and returns response.data\r\n\r\nconst getProducts = async () => {\r\n    const response = await axios.get(API_URL);\r\n    return response.data; // Return the { success, data } object\r\n};\r\n\r\nconst getProductById = async (id) => {\r\n    const response = await axios.get(API_URL + id);\r\n    return response.data; // Return { success, data }\r\n};\r\n\r\nconst createProduct = async (productData) => {\r\n    const response = await axios.post(API_URL, productData, getAuthHeaders());\r\n    return response.data;\r\n};\r\n\r\nconst updateProduct = async (id, productData) => {\r\n    const response = await axios.put(API_URL + id, productData, getAuthHeaders());\r\n    return response.data;\r\n};\r\n\r\nconst deleteProduct = async (id) => {\r\n    const response = await axios.delete(API_URL + id, getAuthHeaders());\r\n    return response.data;\r\n};\r\n\r\nconst productService = {\r\n    getProducts,\r\n    getProductById,\r\n    createProduct,\r\n    updateProduct,\r\n    deleteProduct,\r\n};\r\n\r\nexport default productService;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,qCAAqC;AACrD,MAAMC,cAAc,GAAGC,OAAO,CAAC,yBAAyB,CAAC;;AAEzD;AACAC,GAAG,CAACC,GAAG,CAAC,iBAAiB,EAAEH,cAAc,CAAC;;AAG1C;AACA,MAAMI,cAAc,GAAGA,CAAA,KAAM;EACzB,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;EAC3D,IAAIJ,KAAK,EAAE;IACP,OAAO;MAAEK,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUN,KAAK;MAAG;IAAE,CAAC;EAC5D;EACA,OAAO,CAAC,CAAC;AACb,CAAC;;AAED;AACA;;AAEA,MAAMO,WAAW,GAAG,MAAAA,CAAA,KAAY;EAC5B,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAACf,OAAO,CAAC;EACzC,OAAOc,QAAQ,CAACE,IAAI,CAAC,CAAC;AAC1B,CAAC;AAED,MAAMC,cAAc,GAAG,MAAOC,EAAE,IAAK;EACjC,MAAMJ,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAACf,OAAO,GAAGkB,EAAE,CAAC;EAC9C,OAAOJ,QAAQ,CAACE,IAAI,CAAC,CAAC;AAC1B,CAAC;AAED,MAAMG,aAAa,GAAG,MAAOC,WAAW,IAAK;EACzC,MAAMN,QAAQ,GAAG,MAAMf,KAAK,CAACsB,IAAI,CAACrB,OAAO,EAAEoB,WAAW,EAAEf,cAAc,CAAC,CAAC,CAAC;EACzE,OAAOS,QAAQ,CAACE,IAAI;AACxB,CAAC;AAED,MAAMM,aAAa,GAAG,MAAAA,CAAOJ,EAAE,EAAEE,WAAW,KAAK;EAC7C,MAAMN,QAAQ,GAAG,MAAMf,KAAK,CAACwB,GAAG,CAACvB,OAAO,GAAGkB,EAAE,EAAEE,WAAW,EAAEf,cAAc,CAAC,CAAC,CAAC;EAC7E,OAAOS,QAAQ,CAACE,IAAI;AACxB,CAAC;AAED,MAAMQ,aAAa,GAAG,MAAON,EAAE,IAAK;EAChC,MAAMJ,QAAQ,GAAG,MAAMf,KAAK,CAAC0B,MAAM,CAACzB,OAAO,GAAGkB,EAAE,EAAEb,cAAc,CAAC,CAAC,CAAC;EACnE,OAAOS,QAAQ,CAACE,IAAI;AACxB,CAAC;AAED,MAAMU,cAAc,GAAG;EACnBb,WAAW;EACXI,cAAc;EACdE,aAAa;EACbG,aAAa;EACbE;AACJ,CAAC;AAED,eAAeE,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}