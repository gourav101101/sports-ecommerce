{"ast":null,"code":"var _jsxFileName = \"D:\\\\AlphaWizz\\\\sports-ecommerce\\\\client\\\\src\\\\pages\\\\admin\\\\products\\\\ProductForm.js\",\n  _s = $RefreshSig$();\n// D:/AlphaWizz/sports-ecommerce/client/src/pages/admin/products/ProductForm.js\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductForm = ({\n  onSubmit,\n  initialData = {},\n  loading\n}) => {\n  _s();\n  // --- FIX ---\n  // Initialize the state directly using the `initialData` prop here.\n  // This function now only runs ONCE when the component is first created.\n  // It correctly populates the form for editing without causing the re-render issue.\n  const [product, setProduct] = useState({\n    name: initialData.name || '',\n    description: initialData.description || '',\n    price: initialData.price || '',\n    category: initialData.category || '',\n    stock: initialData.stock || '',\n    imageUrl: initialData.imageUrl || ''\n  });\n\n  // --- REMOVED ---\n  // The useEffect hook that was here was the source of the problem.\n  // It was resetting the form state on every single render (every time you typed),\n  // which made it impossible to enter data.\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProduct(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(product);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-6 bg-white p-8 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(InputField, {\n      name: \"name\",\n      label: \"Product Name\",\n      value: product.name,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      name: \"description\",\n      label: \"Description\",\n      type: \"textarea\",\n      value: product.description,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(InputField, {\n        name: \"price\",\n        label: \"Price\",\n        type: \"number\",\n        value: product.price,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"stock\",\n        label: \"Stock\",\n        type: \"number\",\n        value: product.stock,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      name: \"category\",\n      label: \"Category\",\n      value: product.category,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      name: \"imageUrl\",\n      label: \"Image URL\",\n      value: product.imageUrl,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: loading,\n      className: \"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed\",\n      children: loading ? 'Saving...' : 'Save Product'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n// Helper component for consistent input fields (with minor improvements)\n_s(ProductForm, \"DbvDNGQYLqRyCv9rhnl7lK5wfpU=\");\n_c = ProductForm;\nconst InputField = ({\n  name,\n  label,\n  value,\n  onChange,\n  type = 'text',\n  required = false\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    htmlFor: name,\n    className: \"block text-sm font-medium text-gray-700 mb-1\",\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this), type === 'textarea' ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n    id: name,\n    name: name,\n    value: value,\n    onChange: onChange,\n    rows: \"4\",\n    required: required,\n    className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n    id: name,\n    name: name,\n    type: type,\n    value: value,\n    onChange: onChange,\n    required: required,\n    className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 13\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 53,\n  columnNumber: 5\n}, this);\n_c2 = InputField;\nexport default ProductForm;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProductForm\");\n$RefreshReg$(_c2, \"InputField\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ProductForm","onSubmit","initialData","loading","_s","product","setProduct","name","description","price","category","stock","imageUrl","handleChange","e","value","target","prev","handleSubmit","preventDefault","className","children","InputField","label","onChange","required","fileName","_jsxFileName","lineNumber","columnNumber","type","disabled","_c","htmlFor","id","rows","_c2","$RefreshReg$"],"sources":["D:/AlphaWizz/sports-ecommerce/client/src/pages/admin/products/ProductForm.js"],"sourcesContent":["// D:/AlphaWizz/sports-ecommerce/client/src/pages/admin/products/ProductForm.js\r\nimport React, { useState } from 'react';\r\n\r\nconst ProductForm = ({ onSubmit, initialData = {}, loading }) => {\r\n    // --- FIX ---\r\n    // Initialize the state directly using the `initialData` prop here.\r\n    // This function now only runs ONCE when the component is first created.\r\n    // It correctly populates the form for editing without causing the re-render issue.\r\n    const [product, setProduct] = useState({\r\n        name: initialData.name || '',\r\n        description: initialData.description || '',\r\n        price: initialData.price || '',\r\n        category: initialData.category || '',\r\n        stock: initialData.stock || '',\r\n        imageUrl: initialData.imageUrl || '',\r\n    });\r\n\r\n    // --- REMOVED ---\r\n    // The useEffect hook that was here was the source of the problem.\r\n    // It was resetting the form state on every single render (every time you typed),\r\n    // which made it impossible to enter data.\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setProduct(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onSubmit(product);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-6 bg-white p-8 rounded-lg shadow-md\">\r\n            <InputField name=\"name\" label=\"Product Name\" value={product.name} onChange={handleChange} required />\r\n            <InputField name=\"description\" label=\"Description\" type=\"textarea\" value={product.description} onChange={handleChange} required />\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <InputField name=\"price\" label=\"Price\" type=\"number\" value={product.price} onChange={handleChange} required />\r\n                <InputField name=\"stock\" label=\"Stock\" type=\"number\" value={product.stock} onChange={handleChange} required />\r\n            </div>\r\n            <InputField name=\"category\" label=\"Category\" value={product.category} onChange={handleChange} required />\r\n            <InputField name=\"imageUrl\" label=\"Image URL\" value={product.imageUrl} onChange={handleChange} />\r\n\r\n            <button type=\"submit\" disabled={loading} className=\"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed\">\r\n                {loading ? 'Saving...' : 'Save Product'}\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\n// Helper component for consistent input fields (with minor improvements)\r\nconst InputField = ({ name, label, value, onChange, type = 'text', required = false }) => (\r\n    <div>\r\n        <label htmlFor={name} className=\"block text-sm font-medium text-gray-700 mb-1\">{label}</label>\r\n        {type === 'textarea' ? (\r\n            <textarea\r\n                id={name}\r\n                name={name}\r\n                value={value}\r\n                onChange={onChange}\r\n                rows=\"4\"\r\n                required={required}\r\n                className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n            />\r\n        ) : (\r\n            <input\r\n                id={name}\r\n                name={name}\r\n                type={type}\r\n                value={value}\r\n                onChange={onChange}\r\n                required={required}\r\n                className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n            />\r\n        )}\r\n    </div>\r\n);\r\n\r\nexport default ProductForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}